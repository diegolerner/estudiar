(this.webpackJsonpestudiar=this.webpackJsonpestudiar||[]).push([[0],{58:function(e,t,a){e.exports=a(79)},63:function(e,t,a){},70:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(14),l=a.n(c),o=(a(63),a(8)),s=(a(70),a(18)),i=a(19);function m(){var e=Object(s.a)(["\n  /* #app {\n    box-shadow: 0010pxrgba(0, 0, 0, 0.05);\n    overflow-x: hidden;\n    min-height: 100vh;\n    padding-bottom: 10px;\n  } */\n  .spin {\n  animation: rotation 2s infinite linear;\n}\n\n@keyframes rotation {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(359deg);\n  }\n}\n\n.div-menu{\n  border-right: 1px solid #EBEBEB;\n}\n\n"]);return m=function(){return e},e}var u=Object(i.a)(m()),d=a(6),E=a(50),h=a.n(E),b=Object(n.createContext)(),v=function(e){var t=e.children,a=Object(n.useState)(""),c=Object(d.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)((function(){var e=h.a.get("token");return!!e&&(o(e),!0)})),i=Object(d.a)(s,2),m=i[0],u=i[1],E={isAuth:m,token:l,activateAuth:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];u(!0),window.sessionStorage.setItem("token",e)},removeAuth:function(){u(!1),window.sessionStorage.removeItem("token")}};return r.a.createElement(b.Provider,{value:E},t)},f=(b.Consumer,a(24)),p=a(26),g=a(51),j=a.n(g),O=function(e){var t=e.courses,a=void 0===t?[]:t;console.log(a);var c=Object(n.useState)(!1),l=Object(d.a)(c,2),s=l[0],i=l[1],m=Object(n.useState)(""),u=Object(d.a)(m,2),E=u[0],h=u[1],b=Object(n.useState)(""),v=Object(d.a)(b,2),g=v[0],O=v[1],N=function(){return i(!1)},w=function(e,t){console.log("Queres invitar al curso: ",e),h("https://www.estudi.ar/invite/".concat(e)),O(t),i(!0)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{show:s,onHide:N},r.a.createElement(f.a.Header,{closeButton:!0},r.a.createElement(f.a.Title,null,"Invitar")),r.a.createElement(f.a.Body,null,r.a.createElement("h5",null,"Usa este c\xf3digo QR para invitar a tus alumnos!"),r.a.createElement("div",null,r.a.createElement(j.a,{id:"123456",value:E,size:290,level:"H",includeMargin:!0})),r.a.createElement("h5",{className:"text-center"},"Invita con esta url:"),r.a.createElement("p",{className:"text-center"},"https://estudiar.btcj.com.ar/i/",g)),r.a.createElement(f.a.Footer,null,r.a.createElement(p.a,{variant:"secondary",onClick:N},"Cerrar"))),a.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement("div",{className:"card mb-4"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"mb-0"},e.nombre,e.creador&&r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{to:"/panel/".concat(e.idcurso),className:"btn btn-outline-primary float-right mr-1"}," Alumnos "),r.a.createElement("button",{onClick:function(){return w(e.idcurso,e.codigoInvitacion)},className:"btn btn-outline-primary float-right mr-1"}," Invitar ")),r.a.createElement(o.a,{to:"/course/".concat(e.idcurso),className:"btn btn-outline-primary float-right mr-1"}," Ingresar al curso ")))))})))};function N(){var e=Object(s.a)(["\n position: fixed;\n  z-index: 999;\n  height: 2em;\n  width: 5em;\n  overflow: visible;\n  margin: auto;\n  top: 0;\n  left: 0;\n  bottom: 30%;\n  right: 0;\n"]);return N=function(){return e},e}var w=i.b.div(N()),x=a(32),y=function(){return r.a.createElement(w,{className:"text-center"}," ",r.a.createElement(x.b,{size:"50",animation:"spin",className:"spin"})," Cargando... ")},S=function(){var e=Object(n.useContext)(b).token,t=Object(n.useState)([]),a=Object(d.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(!1),i=Object(d.a)(s,2),m=i[0],u=i[1];return Object(n.useEffect)((function(){u(!0);var t={headers:new Headers({Authorization:"Bearer "+e})};fetch("http://localhost:3002/cursos",t).then((function(e){return e.json()})).then((function(e){l(e),u(!1)}))}),[]),r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h1",{className:"text-center"},"Mis cursos"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h1",{className:"text-center"},r.a.createElement(o.a,{to:"/newCourse"},r.a.createElement("button",{className:"btn btn-primary"}," Crear curso"))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},m?r.a.createElement(y,null):r.a.createElement(O,{courses:c})))))},k=a(53);function C(){var e=Object(s.a)(["\n    &:hover{\n        background: rgba(0,0,0,0.05);\n    }\n"]);return C=function(){return e},e}function B(){var e=Object(s.a)(["\n    border-radius: .25rem;\n    color: #606770;\n    cursor: pointer;\n    display: flex;\n    line-height: 20px;\n    justify-content: space-between;\n    text-decoration: none;\n    margin-top: 0.25rem;\n    padding: 6px;\n    \n    &:hover{\n        background: rgba(0,0,0,0.05);\n    }\n"]);return B=function(){return e},e}var z=i.b.a(B()),F=i.b.li(C()),I=function(e){var t=e.leccion,a=Object(n.useState)(!1),c=Object(d.a)(a,2),l=c[0],o=c[1];return r.a.createElement("li",{style:{listStyle:"none",fontSize:17}},r.a.createElement(z,{onClick:function(){o(!l)},style:{cursor:"pointer"}},t.nombre,r.a.createElement(k.a,{style:{transform:l?"rotateX(180deg)":"",transitionDuration:"0.5s"},className:"float-right",size:30})),r.a.createElement("ul",{style:{display:l?"block":"none",paddingLeft:13}},t.modulos.map((function(a,n){return r.a.createElement(r.a.Fragment,{key:n},r.a.createElement(F,{onClick:function(){return n=t.id,r=a.id,void e.onModuleChange(n,r);var n,r},style:{listStyle:"none",marginBottom:".25rem",marginTop:".25rem",padding:6,cursor:"pointer",fontSize:14}},a.nombre))}))))},A=function(e){var t=e.id,a=Object(n.useContext)(b).token,c=Object(n.useState)({}),l=Object(d.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)({}),m=Object(d.a)(i,2),u=m[0],E=m[1],h=Object(n.useState)(!1),v=Object(d.a)(h,2),f=v[0],p=v[1];return Object(n.useEffect)((function(){p(!0);var e={headers:new Headers({Authorization:"Bearer "+a})};fetch(" https://express-now-alpha-lac.now.sh/cursos/"+t,e).then((function(e){return e.json()})).then((function(e){s(e),e.lecciones[0]&&e.lecciones[0].modulos[0]&&E(e.lecciones[0].modulos[0]),p(!1)}))}),[]),f?r.a.createElement(y,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"fluid-container"},r.a.createElement("div",{className:"row"},o.lecciones&&r.a.createElement("div",{className:"col-md-3 div-menu",style:{paddingTop:5}},r.a.createElement("ul",null,o.lecciones.map((function(e,t){return r.a.createElement(I,{key:t,leccion:e,onModuleChange:function(e,t){!function(e,t){o.lecciones.map((function(a){a.id===e&&a.modulos.map((function(e){e.id===t&&E(e)}))}))}(e,t)}})})))),r.a.createElement("div",{className:"col-md-1"}),r.a.createElement("div",{className:"col-md-6"},u&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"text-center",style:{fontSize:"3rem",marginBottom:"3rem"}}," ",u.nombre),r.a.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:u.contenido}}))))))},T=a(33),H=function(e){e.message;var t=e.idCurso;return(r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{size:"32"}),r.a.createElement("h1",null," Ouch.. "),r.a.createElement("h5",null,"Ya formas parte de este curso!!"),r.a.createElement(o.a,{to:"/course/".concat(t)}," Ingresar ")))},M=function(e){e.message;return(r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{size:"32"}),r.a.createElement("h1",null," Upss.. "),r.a.createElement("h5",null,"No encontramos el curso que buscas"),r.a.createElement("p",null,"Ponte en contacto con quien te invit\xf3"),r.a.createElement(o.a,{to:"/"}," Volver ")))},R=function(e){e.message;var t=e.idCurso;return(r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{size:"32"}),r.a.createElement("h1",null," Genial!! "),r.a.createElement("h5",null," Te registraste a un nuevo curso.. "),r.a.createElement("p",null," Comienza ahora con tus actividades "),r.a.createElement(o.a,{to:"/course/".concat(t)}," Ingresar al curso ")))},_=function(e){var t=e.code,a=Object(n.useContext)(b).token,c=Object(n.useState)(!1),l=Object(d.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)({}),m=Object(d.a)(i,2),u=m[0],E=m[1],h=Object(n.useState)({error:!1,text:""}),v=Object(d.a)(h,2),f=v[0],p=v[1];return Object(n.useEffect)((function(){if(t){s(!0);var e={headers:new Headers({Authorization:"Bearer "+a})};fetch(" http://localhost:3002/invitation/"+t,e).then((function(e){return e.json()})).then((function(e){E(e),console.log(e),s(!1)}))}else p({error:!0,text:"No existe codigo de invitacion"})}),[]),r.a.createElement(r.a.Fragment,null,f.error&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Error"),r.a.createElement("p",null,f.text)),o?r.a.createElement(y,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 text-center mt-5"},"inscripto"===u.status?r.a.createElement(H,{message:u.message,idCurso:u.curso.id}):"error"===u.status?r.a.createElement(M,{message:u.message}):"success"===u.status&&r.a.createElement(R,{message:u.message,idCurso:u.curso.id}))))))},L=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Page not found"))},P=a(35),U=function(){return r.a.createElement(P.a,{collapseOnSelect:!0,expand:"lg",style:{background:"white !important",borderBottom:"1px solid #EBEBEB"}},r.a.createElement(P.a.Brand,null,r.a.createElement(o.a,{to:"/",className:"navbar-brand"}," Estudi.ar ")),r.a.createElement(P.a.Toggle,{"aria-controls":"responsive-navbar-nav"}))},V=a(40),q=a.n(V),D=a(54),J=a(55),Q=function(e){var t=e.id,a=Object(n.useContext)(b).token,c=Object(n.useState)([{}]),l=Object(d.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)(!1),m=Object(d.a)(i,2),u=m[0],E=m[1];return Object(n.useEffect)((function(){E(!0);var e={headers:new Headers({Authorization:"Bearer "+a})};function n(){return(n=Object(D.a)(q.a.mark((function a(){var n,r;return q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("https://express-now-alpha-lac.now.sh/cursos/".concat(t,"/alumnos"),e);case 2:return n=a.sent,a.next=5,n.json();case 5:r=a.sent,s(r),console.log(r),E(!1);case 9:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]),r.a.createElement("div",null,u?r.a.createElement(y,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h1",{className:"text-center"},"Listado de Alumnos")),r.a.createElement("div",{className:"col-md-12"},r.a.createElement(J.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Apellido"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Opciones"))),r.a.createElement("tbody",null,o&&o.length?o.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.nombre_usuario),r.a.createElement("td",null,e.apellido_usuario),r.a.createElement("td",null,e.email_usuario),r.a.createElement("td",null,r.a.createElement(p.a,{variant:"primary"},"Ver datos")," ",r.a.createElement(p.a,{variant:"secondary"},"Echar del curso")))})):r.a.createElement("tr",null,"No hay alumnos cargados"))))))))},W=function(){Object(n.useContext)(b).token;var e=Object(n.useState)({}),t=Object(d.a)(e,2),a=(t[0],t[1],Object(n.useState)({})),c=Object(d.a)(a,2),l=(c[0],c[1],Object(n.useState)(!0)),s=Object(d.a)(l,2),i=s[0],m=s[1];return setTimeout((function(){m(!1)}),1500),r.a.createElement("div",null,i?r.a.createElement(y,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("h2",null,"Ups... esto es un work in progres..."),r.a.createElement("h1",{className:"text-center"},r.a.createElement(o.a,{to:"/"},r.a.createElement("button",{className:"btn btn-primary"}," Volver a salvo")))))))},G=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h2",null,"Debes logearte"),r.a.createElement("a",{href:"http://btcj.com.ar/sitio/login"},"Ingresar")))))};var X=function(){var e=Object(n.useContext)(b).isAuth;return console.log("auth",e),r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null)},r.a.createElement(u,null),r.a.createElement(U,null),r.a.createElement(o.c,null,r.a.createElement(L,{default:!0}),!e&&r.a.createElement(G,{path:"/notRegister"}),!e&&r.a.createElement(o.b,{noThrow:!0,from:"/",to:"/notRegister"}),!e&&r.a.createElement(o.b,{noThrow:!0,from:"/course/:id",to:"/notRegister"}),!e&&r.a.createElement(o.b,{noThrow:!0,from:"/panel/:id",to:"/notRegister"}),r.a.createElement(_,{path:"/invite/:code"}),r.a.createElement(S,{path:"/"}),r.a.createElement(W,{path:"/newCourse"}),r.a.createElement(A,{path:"/course/:id"}),r.a.createElement(Q,{path:"/panel/:id"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null,r.a.createElement(X,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[58,1,2]]]);
//# sourceMappingURL=main.9fafd6cb.chunk.js.map